import{m as _,b as $,p as h}from"./vueLoadingStore-67bf58d2.js";import{j as p}from"./runtime-dom.esm-bundler-21d14b8b.js";import{b6 as C,av as v,aj as i,l as n,j as P,s as c,T as k,m as s,b3 as d,a3 as g,F as b,at as y,aJ as a,t as q,b1 as x}from"./_plugin-vue_export-helper-01f09012.js";const w={data(){return{chooseType:"",currentChoose:"",limit:6}},computed:{..._(h,["products","allProducts","productGroups"]),currentProducts(){return this.allProducts.filter(t=>this.currentChoose?t.group===this.currentChoose:t)}},methods:{...$(h,["getProductsData","getAllProducts"]),changePages(t,e){t==="pre"&&+this.$route.query.page<=Math.ceil(e.length/this.limit)&&+this.$route.query.page!=1?this.$router.push(`/shoppingMall?page=${+this.$route.query.page-1}&search=${this.$route.query.search}`):t==="next"&&this.$route.query.page<Math.ceil(e.length/this.limit)&&this.$router.push(`/shoppingMall?page=${+this.$route.query.page+1}&search=${this.$route.query.search}`)}},watch:{"$route.query.page"(t){this.getProductsData(this.currentChoose,this.$route.query.search?`&_page=${t}&_limit=${this.limit}`:`?_page=${t}&_limit=${this.limit}`)},"$route.query.search"(t){t&&(this.currentChoose=t)},currentChoose(){this.$router.push(`/shoppingMall?page=1&search=${this.currentChoose}`),this.getProductsData(this.currentChoose,this.currentChoose?`&_page=1&_limit=${this.limit}`:`?_page=1&_limit=${this.limit}`)}},mounted(){const{page:t,search:e}=this.$route.query;this.getAllProducts(),this.getProductsData(e,e?`&_page=${t}&_limit=${this.limit}`:`?_page=${t}&_limit=${this.limit}`),this.currentChoose=e}},M={class:"wrap grid lg:grid-cols-5 gap-4"},T={class:"flex flex-wrap lg:flex-col bg-brand-06 text-brand-05 font-black font-self text-xl h-max"},j={class:"relative"},D=["id","value"],V=["for","onClick"],B={class:"lg:col-span-4"},S={class:"flex justify-between"},A={class:"text-2xl text-brand-05 font-black font-self"},N={class:"text-lg text-gray-02"},U={class:"grid md:grid-cols-2 gap-3 my-5"},F=["src","alt"],G={class:"truncate bg-[rgba(0,52,22,.6)] absolute bottom-0 right-0 left-0 py-4 px-5 text-white text-xl font-self font-black"},z={key:0,class:"flex gap-4 items-center justify-center"},E=["disabled"],J=["disabled"],L={key:1,class:"flex gap-4 items-center justify-center"},R=["disabled"],H=["disabled"];function I(t,e,K,O,r,l){const m=v("router-link");return i(),n("div",M,[(i(),P(k,{to:"title"},[c("茶藝用品")])),s("ol",T,[s("li",j,[d(s("input",{type:"radio",name:"productType",id:"all","onUpdate:modelValue":e[0]||(e[0]=o=>r.chooseType=o),value:"",class:"absolute opacity-0"},null,512),[[p,r.chooseType,void 0,{trim:!0}]]),s("label",{for:"all",class:g([{"bg-brand-01 bg-opacity-30":r.currentChoose===""},"block w-full h-full p-4 hover:bg-brand-01 hover:bg-opacity-30 cursor-pointer"]),onClick:e[1]||(e[1]=()=>r.currentChoose="")},"全部",2)]),(i(!0),n(b,null,y(t.productGroups,(o,u)=>(i(),n("li",{class:"relative",key:o+u},[d(s("input",{type:"radio",name:"productType",id:o+u,"onUpdate:modelValue":e[2]||(e[2]=f=>r.chooseType=f),value:u,class:"absolute opacity-0"},null,8,D),[[p,r.chooseType,void 0,{trim:!0}]]),s("label",{for:o+u,class:g([{"bg-brand-01 bg-opacity-30":r.currentChoose===u},"block w-full h-full p-4 hover:bg-brand-01 hover:bg-opacity-30 cursor-pointer"]),onClick:()=>r.currentChoose=u},a(u),11,V)]))),128))]),s("div",B,[s("section",S,[s("h2",A," 茶藝用品 / "+a(r.chooseType),1),s("p",N,"第 "+a(this.$route.query.page)+" 頁",1)]),s("ul",U,[(i(!0),n(b,null,y(t.products,o=>(i(),n("li",{class:"h-72 group relative overflow-hidden",key:o.id},[q(m,{to:`/product/${o.id}`},{default:x(()=>[s("img",{src:o.coverUrl,alt:o.name,class:"w-full h-full object-cover group-hover:scale-110 duration-1000"},null,8,F),s("h1",G,a(o.name),1)]),_:2},1032,["to"])]))),128))]),this.$route.query.search?(i(),n("p",z,[s("button",{type:"button",class:"btn-outline py-2",disabled:+this.$route.query.page==1,onClick:e[3]||(e[3]=()=>l.changePages("pre",l.currentProducts))}," 上一頁 ",8,E),c(" 第 "+a(this.$route.query.page)+" / "+a(Math.ceil(l.currentProducts.length/this.limit))+" 頁 ",1),s("button",{type:"button",class:"btn-outline py-2",disabled:+this.$route.query.page===Math.ceil(l.currentProducts.length/this.limit),onClick:e[4]||(e[4]=()=>l.changePages("next",l.currentProducts))}," 下一頁 ",8,J)])):(i(),n("p",L,[s("button",{type:"button",class:"btn-outline py-2",disabled:+this.$route.query.page==1,onClick:e[5]||(e[5]=()=>l.changePages("pre",t.allProducts))}," 上一頁 ",8,R),c(" 第 "+a(this.$route.query.page)+" / "+a(Math.ceil(t.allProducts.length/this.limit))+" 頁 ",1),s("button",{type:"button",class:"btn-outline py-2",disabled:+this.$route.query.page===Math.ceil(t.allProducts.length/this.limit),onClick:e[6]||(e[6]=()=>l.changePages("next",t.allProducts))}," 下一頁 ",8,H)]))])])}const Y=C(w,[["render",I]]);export{Y as default};
