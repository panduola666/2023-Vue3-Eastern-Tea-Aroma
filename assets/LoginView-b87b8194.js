import{b6 as c,aj as u,l as h,m as t,av as g,j as y,s as x,T as w,a3 as b,b3 as d,k as C,t as _}from"./_plugin-vue_export-helper-01f09012.js";import{m as v,b as k,u as p}from"./vueLoadingStore-c0b7b794.js";import{l as a,n as f,g as M}from"./runtime-dom.esm-bundler-21d14b8b.js";const I={name:"SIdentify",props:{identifyCode:{type:String,default:"1234"},fontSizeMin:{type:Number,default:25},fontSizeMax:{type:Number,default:35},backgroundColorMin:{type:Number,default:200},backgroundColorMax:{type:Number,default:220},dotColorMin:{type:Number,default:60},dotColorMax:{type:Number,default:120},contentWidth:{type:Number,default:116},contentHeight:{type:Number,default:38}},methods:{randomNum(s,e){return Math.floor(Math.random()*(e-s)+s)},randomColor(s,e){const o=this.randomNum(s,e),l=this.randomNum(s,e),i=this.randomNum(s,e);return"rgb("+o+","+l+","+i+")"},drawPic(){const e=document.getElementById("s-canvas").getContext("2d");e.textBaseline="bottom",e.fillStyle=this.randomColor(this.backgroundColorMin,this.backgroundColorMax),e.fillRect(0,0,this.contentWidth,this.contentHeight);for(let o=0;o<this.identifyCode.length;o++)this.drawText(e,this.identifyCode[o],o);this.drawLine(e),this.drawDot(e)},drawText(s,e,o){s.fillStyle=this.randomColor(50,160),s.font=this.randomNum(this.fontSizeMin,this.fontSizeMax)+"px SimHei";const l=(o+1)*(this.contentWidth/(this.identifyCode.length+1)),i=this.randomNum(this.fontSizeMax,this.contentHeight-5),r=this.randomNum(-30,30);s.translate(l,i),s.rotate(r*Math.PI/180),s.fillText(e,0,0),s.rotate(-r*Math.PI/180),s.translate(-l,-i)},drawLine(s){for(let e=0;e<4;e++)s.strokeStyle=this.randomColor(100,200),s.beginPath(),s.moveTo(this.randomNum(0,this.contentWidth),this.randomNum(0,this.contentHeight)),s.lineTo(this.randomNum(0,this.contentWidth),this.randomNum(0,this.contentHeight)),s.stroke()},drawDot(s){for(let e=0;e<30;e++)s.fillStyle=this.randomColor(0,255),s.beginPath(),s.arc(this.randomNum(0,this.contentWidth),this.randomNum(0,this.contentHeight),1,0,2*Math.PI),s.fill()}},watch:{identifyCode(){this.drawPic()}},mounted(){this.drawPic()}},N={class:"s-canvas"},S=["width","height"];function P(s,e,o,l,i,r){return u(),h("div",N,[t("canvas",{id:"s-canvas",width:o.contentWidth,height:o.contentHeight,onClick:e[0]||(e[0]=(...m)=>r.drawPic&&r.drawPic(...m))},null,8,S)])}const T=c(I,[["render",P]]),H={data(){return{userInput:{name:"",email:"",password:"",identify:""},passwordType:"password",imgChange:!1,identifyCode:"",identifyCodes:[]}},computed:{...v(p,["user"])},methods:{...k(p,["getUserData","login","register","signOut"]),inputReset(s){s==="login"?this.login(this.userInput,this.identifyCode,this.AddIdentifyLetter):s==="register"?(this.register(this.userInput),this.inputReset("changeImg")):s==="changeImg"&&(this.imgChange=!this.imgChange,this.userInput=this.$options.data().userInput),this.userInput.identify=""},randomNum(s,e){return Math.floor(Math.random()*(e-s)+s)},refreshCode(){this.identifyCode="",this.makeCode(this.identifyCodes,4)},makeCode(s,e){for(let o=0;o<e;o++)this.identifyCode+=this.identifyCodes[this.randomNum(0,this.identifyCodes.length)]},AddIdentifyLetter(){for(let s=65;s<=90;s++)this.identifyCodes.push(String.fromCharCode(s));this.refreshCode()}},components:{identify:T},mounted(){this.AddIdentifyLetter()}},V={class:"wrap lg:grid lg:grid-cols-2 relative lg:gap-6"},j=t("img",{src:"https://images.unsplash.com/photo-1548323164-ea1cb76539e8?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxzZWFyY2h8MTI3fHx0ZWF8ZW58MHx8MHx8&auto=format&fit=crop&w=300&q=60",alt:"遮罩圖片",class:"w-full h-full object-cover"},null,-1),z=t("p",{class:"absolute top-20 left-10 right-10 bg-white bg-opacity-30 text-3xl py-2 px-4 text-gray-01"}," 啄飲間，百態人生 ",-1),W=[j,z],B=t("h1",{class:"text-3xl text-brand-02 text-center"},"註冊",-1),L={class:"flex flex-col font-self text-gray-01 gap-5 w-full"},E={class:"flex flex-col"},q=t("label",{for:"registerEmail"},"帳號",-1),A={class:"flex flex-col"},R=t("label",{for:"registerPassword"},"密碼",-1),U={class:"flex flex-col"},D=t("label",{for:"registerName"},"用戶名",-1),Z=t("div",{class:"text-center"},[t("button",{type:"submit",class:"btn-primary"},"註冊")],-1),F=t("h1",{class:"text-3xl text-brand-02 text-center"},"登入",-1),O={class:"flex flex-col font-self text-gray-01 gap-5 w-full"},Y={class:"flex flex-col"},G=t("label",{for:"loginEmail"},"帳號",-1),J=t("label",{for:"loginPassword"},"密碼",-1),K={class:"flex items-center gap-3 relative"},Q=["type"],X={class:"absolute right-3"},$=t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"},null,-1),ee=t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),te=[$,ee],se=t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.523 10.523 0 01-4.293 5.774M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0 0a3 3 0 10-4.243-4.243m4.242 4.242L9.88 9.88"},null,-1),ie=[se],oe=t("label",{for:"identify"},"驗證",-1),ne={class:"flex justify-between flex-col"},re={class:"flex justify-end items-center"},le=t("div",{class:"text-center"},[t("button",{type:"submit",class:"btn-primary"},"登入")],-1);function de(s,e,o,l,i,r){const m=g("identify");return u(),h("main",V,[(u(),y(w,{to:"title"},[x("登入註冊")])),t("div",{class:b(["lg:w-1/2 absolute lg:h-full text-center duration-1000 h-1/2 w-full z-10",{"lg:translate-x-full lg:translate-y-0 translate-y-full":i.imgChange}])},W,2),t("form",{class:"text-2xl flex flex-col justify-between pb-6 lg:pb-0",onSubmit:e[4]||(e[4]=f(()=>r.inputReset("register"),["prevent"]))},[B,t("div",L,[t("div",E,[q,d(t("input",{type:"email",name:"registerEmail",id:"registerEmail",class:"py-1 px-2",placeholder:"請輸入信箱","onUpdate:modelValue":e[0]||(e[0]=n=>i.userInput.email=n),required:""},null,512),[[a,i.userInput.email,void 0,{trim:!0}]])]),t("div",A,[R,d(t("input",{type:"password",name:"registerPassword",id:"registerPassword",class:"py-1 px-2",placeholder:"請輸入密碼",autocomplete:"off",minlength:"6","onUpdate:modelValue":e[1]||(e[1]=n=>i.userInput.password=n),required:""},null,512),[[a,i.userInput.password,void 0,{trim:!0}]])]),t("div",U,[D,d(t("input",{type:"text",name:"registerName",id:"registerName",class:"py-1 px-2",placeholder:"請輸入用戶名",maxlength:"6","onUpdate:modelValue":e[2]||(e[2]=n=>i.userInput.name=n),required:""},null,512),[[a,i.userInput.name,void 0,{trim:!0}]])])]),t("div",null,[t("span",{class:"text-base text-brand-02 underline hover:text-brand-01 cursor-pointer",onClick:e[3]||(e[3]=()=>r.inputReset("changeImg"))}," 已有會員,來去登入 "),Z])],32),t("form",{class:"text-2xl mt-12 lg:mt-0",onSubmit:e[12]||(e[12]=f(()=>r.inputReset("login"),["prevent"]))},[F,t("div",O,[t("div",Y,[G,d(t("input",{type:"email",name:"loginEmail",id:"loginEmail",class:"py-1 px-2",placeholder:"請輸入信箱","onUpdate:modelValue":e[5]||(e[5]=n=>i.userInput.email=n),required:""},null,512),[[a,i.userInput.email,void 0,{trim:!0}]])]),t("div",null,[J,t("div",K,[d(t("input",{type:i.passwordType,name:"loginPassword",id:"loginPassword",class:"py-1 px-2 pr-12 w-full",placeholder:"請輸入密碼",autocomplete:"off",minlength:"6","onUpdate:modelValue":e[6]||(e[6]=n=>i.userInput.password=n),required:""},null,8,Q),[[M,i.userInput.password,void 0,{trim:!0}]]),t("div",X,[i.passwordType==="password"?(u(),h("svg",{key:0,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6 flex-shrink-0 cursor-pointer",onClick:e[7]||(e[7]=n=>i.passwordType="text")},te)):i.passwordType==="text"?(u(),h("svg",{key:1,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6 flex-shrink-0 cursor-pointer",onClick:e[8]||(e[8]=()=>i.passwordType="password")},ie)):C("",!0)])])]),t("div",null,[oe,t("div",ne,[d(t("input",{type:"text",name:"identify",id:"identify",class:"py-1 px-2 mb-3",placeholder:"不分大小寫","onUpdate:modelValue":e[9]||(e[9]=n=>i.userInput.identify=n),required:""},null,512),[[a,i.userInput.identify,void 0,{trim:!0}]]),t("div",re,[_(m,{"identify-code":i.identifyCode,onClick:r.refreshCode,class:"cursor-pointer mr-4"},null,8,["identify-code","onClick"]),t("p",{class:"cursor-pointer text-base underline text-brand-02 hover:text-brand-01",onClick:e[10]||(e[10]=(...n)=>r.refreshCode&&r.refreshCode(...n))}," 看不清 ")])])])]),t("span",{class:"text-base text-brand-02 underline hover:text-brand-01 cursor-pointer",onClick:e[11]||(e[11]=()=>r.inputReset("changeImg"))}," 尚未成為會員? 來去註冊 "),le],32)])}const me=c(H,[["render",de]]);export{me as default};
